<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ru.complitex.domain.mapper.SequenceMapper">
    <select id="selectSequenceId" resultType="long" parameterType="string">
        select `value` from `sequence` where `name` = #{value} for update
    </select>

    <update id="incrementSequenceId" parameterType="string">
        update `sequence` set `value` = `value` + 1 where `name` = #{value}
    </update>
</mapper>